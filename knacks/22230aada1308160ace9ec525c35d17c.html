<h1>üèÅ <b>Objetivos</b></h1>

<p>Esta gu√≠a tiene como objetivo detallar los pasos para instalar <i>Docker Engine</i> y <i>Docker Compose</i> en un servidor <i>Ubuntu</i>. La instalaci√≥n de estas herramientas es fundamental para el despliegue y la gesti√≥n eficiente de aplicaciones en contenedores, permitiendo un entorno aislado y reproducible para casi cualquier servicio.</p>

<h1>üë®üèΩ‚Äçüè´ <b>Instrucciones</b></h1>

<h2>Actualizar el servidor</h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Conectarse de manera remota al servidor mediante un terminal. Ver: <a target='_blank' rel='noopener noreferrer' href='https://www.notion.so/Windows-Conectarse-a-instancias-Linux-con-PuTTY-21a30aada1308040a698e53a70e62c41?pvs=21'>Windows: <b>Conectarse a instancias Linux con PuTTY</b></a>.</span></li>

</ul>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Actualizar el √≠ndice de paquetes disponibles desde los repositorios de <i>Ubuntu</i> e instalar las actualizaciones pendientes. La opci√≥n <code>-y</code> acepta autom√°ticamente todas las preguntas de confirmaci√≥n, lo que es √∫til para actualizaciones no interactivas.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo apt update && sudo apt upgrade -y
</code></pre></div>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Si el sistema necesita un reinicio, introducir el siguiente comando y esperar un minuto o dos hasta que el servidor se reinicie por completo y pueda conectarse de nuevo.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo reboot
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/jPdHj8rS/image.png' alt='image'>
<h2><b>Instalar los paquetes requeridos por</b> <i>Docker</i></h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Instalar los paquetes necesarios para permitir que <code>apt</code> use repositorios a trav√©s de <b>HTTPS</b>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo apt install -y apt-transport-https ca-certificates curl software-properties-common
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/Wp5sqRyK/image-1.png' alt='image 1'>
<h2><b>A√±adir la clave GPG oficial de</b> <i>Docker</i></h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Para asegurar la autenticidad de los paquetes de <i>Docker</i>, descargar y a√±adir la <b>clave GPG</b> oficial de <i>Docker</i>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
</code></pre></div>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Establecer los permisos adecuados para el archivo de la clave.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo chmod a+r /etc/apt/keyrings/docker.gpg
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/60zC7ZQM/image-2.png' alt='image 2'>
<h2><b>A√±adir el repositorio de</b> <i>Docker APT</i></h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>A√±adir el repositorio oficial de <i>Docker</i> a la lista de fuentes <code>apt</code> para obtener sus paquetes del repositorio oficial.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
</code></pre></div>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Actualizar la lista de paquetes de <code>apt</code> despu√©s de a√±adir el nuevo repositorio.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo apt update
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/v4jKjkB9/image-3.png' alt='image 3'>
<h2><b>Instalar</b> <i>Docker Engine</i></h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Instalar los componentes principales de <i>Docker Engine</i>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/Nn6rqPgz/image-4.png' alt='image 4'>
<h2><b>Verificar la instalaci√≥n de</b> <i>Docker</i></h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Verificar el estado del servicio <i>Docker</i>. Se debe ver un estado <b>"</b><code>Active: active (running) since ...</code><b>"</b>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo systemctl status docker --no-pager
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/LDyJmLZ4/image-5.png' alt='image 5'>
<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Ejecutar la imagen de prueba "<code>hello-world</code>" para confirmar que <i>Docker</i> funciona. Si la instalaci√≥n fue exitosa, aparecer√° en √∫ltima instancia el mensaje: <code>Hello from Docker! This message shows that your installation appears to be working correctly.</code></span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo docker run --rm hello-world
</code></pre></div>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Verificar la versi√≥n de <i>Docker Compose</i> (debe ser la versi√≥n v2). Debe devolver  <code>Docker Compose version v2.x.x</code>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>docker compose version
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/twsDhKgN/image-6.png' alt='image 6'>
<div class='div-featured'>
<span class='img-featured'>‚ö†Ô∏è</span>
<span class='txt-featured'>Si desea eliminar <b>todas</b> las im√°genes de <code>hello-world</code> almacenadas en su servidor, ejecutar los siguientes comandos.
<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo docker rm $(docker ps -a -q --filter ancestor=hello-world --filter status=exited) && sudo docker rmi hello-world
</code></pre></div>

</span></div>

<h2>Gestionar <i>Docker</i> como usuario No-Root (Opcional pero recomendado)</h2>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Por defecto, <i>Docker</i> requiere <code>sudo</code> para ejecutarse. A√±adir su usuario al grupo <code>docker</code> le permitir√° ejecutar comandos <i>Docker</i> sin <code>sudo</code>.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>sudo usermod -aG docker $USER
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/jkrXZJgb/image-7.png' alt='image 7'>
<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Reiniciar el servidor o la sesi√≥n SSH para que los nuevos permisos de grupo se apliquen a su sesi√≥n.</span></li>

</ul>

<ul class='lst-task'>
  <li><label class='chk-task'></label><span>Verificar si el usuario ha sido a√±adido al grupo revisando que <code>docker</code> aparezca entre los grupos activos para el usuario activo.</span></li>

</ul>

<div class='div-code'><button class='btn-code'>Copiar</button><pre><code class='txt-code'>groups
</code></pre></div>

<img target='_blank' rel='noopener noreferrer' src='https://i.ibb.co/3yXwXQJw/image-8.png' alt='image 8'>
<h1>‚û°Ô∏è Ver tambi√©n</h1>

<div class='div-featured'>
<span class='img-featured'>‚ÑπÔ∏è</span>
<span class='txt-featured'><a target='_blank' rel='noopener noreferrer' href='https://www.notion.so/22230aada13080f3b8ddd2a0ee9dac4c?pvs=21'>Desplegar aplicaciones en un servidor Ubuntu</a>
</span></div>

<h1>üéûÔ∏è Videos</h1>

<p><a target='_blank' rel='noopener noreferrer' href='https://www.youtube.com/watch?v=JGsLLt_wNbA'>https://www.youtube.com/watch?v=JGsLLt_wNbA</a></p>

<p><a target='_blank' rel='noopener noreferrer' href='https://www.youtube.com/watch?v=SXmHBMjxIZM'>https://www.youtube.com/watch?v=SXmHBMjxIZM</a></p>

<h1>üîó Enlaces relacionados</h1>

<p><a target='_blank' rel='noopener noreferrer' href='https://docs.docker.com/compose/install/linux/'>Plugin</a></p>

<p><a target='_blank' rel='noopener noreferrer' href='https://www.hostinger.com/ar/tutoriales/como-instalar-y-usar-docker-en-ubuntu'>C√≥mo instalar y configurar Docker en Ubuntu</a></p>

